# Snapshot report for `test/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://avajs.dev).

## inject cjs shim for esm output

> Snapshot 1

    `␊
    // -- Shims --␊
    import cjsUrl from 'node:url';␊
    import cjsPath from 'node:path';␊
    import cjsModule from 'node:module';␊
    const __filename = cjsUrl.fileURLToPath(import.meta.url);␊
    const __dirname = cjsPath.dirname(__filename);␊
    const require = cjsModule.createRequire(import.meta.url);␊
    const child = require('child');␊
    ␊
    export { child };␊
    `

## inject cjs shim for esm output with sourcemap

> Snapshot 1

    `␊
    // -- Shims --␊
    import cjsUrl from 'node:url';␊
    import cjsPath from 'node:path';␊
    import cjsModule from 'node:module';␊
    const __filename = cjsUrl.fileURLToPath(import.meta.url);␊
    const __dirname = cjsPath.dirname(__filename);␊
    const require = cjsModule.createRequire(import.meta.url);␊
    const child = require('child');␊
    ␊
    export { child };␊
    //# sourceMappingURL=cjs.js.map␊
    `

## not inject cjs shim for cjs output

> Snapshot 1

    `'use strict';␊
    ␊
    const child = require('child');␊
    ␊
    exports.child = child;␊
    `

## inject cjs shim for esm output with a single import statement

> Snapshot 1

    `import MagicString from 'magic-string';␊
    ␊
    ␊
    // -- Shims --␊
    import cjsUrl from 'node:url';␊
    import cjsPath from 'node:path';␊
    import cjsModule from 'node:module';␊
    const __filename = cjsUrl.fileURLToPath(import.meta.url);␊
    const __dirname = cjsPath.dirname(__filename);␊
    const require = cjsModule.createRequire(import.meta.url);␊
    const child = require('child');␊
    ␊
    const s = new MagicString('');␊
    ␊
    export { child, s };␊
    `

## inject cjs shim for esm output with multiple import statements

> Snapshot 1

    `import { constants } from 'node:crypto';␊
    import MagicString from 'magic-string';␊
    ␊
    ␊
    // -- Shims --␊
    import cjsUrl from 'node:url';␊
    import cjsPath from 'node:path';␊
    import cjsModule from 'node:module';␊
    const __filename = cjsUrl.fileURLToPath(import.meta.url);␊
    const __dirname = cjsPath.dirname(__filename);␊
    const require = cjsModule.createRequire(import.meta.url);␊
    const child = require('child');␊
    ␊
    const s = new MagicString('');␊
    const c = constants.SEP;␊
    ␊
    export { c, child, s };␊
    `

## inject cjs shim should not break on valid js object with `import` literal value

> Snapshot 1

    `␊
    // -- Shims --␊
    import cjsUrl from 'node:url';␊
    import cjsPath from 'node:path';␊
    import cjsModule from 'node:module';␊
    const __filename = cjsUrl.fileURLToPath(import.meta.url);␊
    const __dirname = cjsPath.dirname(__filename);␊
    const require = cjsModule.createRequire(import.meta.url);␊
    const dn = __dirname;␊
    ␊
    module.exports = {␊
      keyword: ' import',␊
      dn␊
    };␊
    `
