# Snapshot report for `test/test.js`

The actual snapshot is saved in `test.js.snap`.

Generated by [AVA](https://avajs.dev).

## allows custom moduleDirectories with legacy customResolveOptions.moduleDirectory

> Snapshot 1

    [
      {
        code: 'PLUGIN_WARNING',
        message: 'node-resolve: The `customResolveOptions.moduleDirectory` option has been deprecated. Use `moduleDirectories`, which must be an array.',
        plugin: 'node-resolve',
        toString: Function {},
      },
    ]

## handles package side-effects

> Snapshot 1

    [
      'array-dep1',
      'array-dep3',
      'array-dep5',
      'array-index',
      'false-dep1',
      'true-dep1',
      'true-dep2',
      'true-index',
    ]

## ignores deep-import non-modules

> Snapshot 1

    [
      {
        code: 'UNRESOLVED_IMPORT',
        importer: 'deep-import-non-module.js',
        message: '\'foo/deep\' is imported by deep-import-non-module.js, but could not be resolved – treating it as an external dependency',
        source: 'foo/deep',
        toString: Function {},
        url: 'https://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency',
      },
    ]

## ignores the package.json sideEffects property for files in root package with "ignoreSideEffectsForRoot" option

> Snapshot 1

    `'use strict';␊
    ␊
    console.log('should be kept');␊
    `

## respects the package.json sideEffects property for files in root package by default

> Snapshot 1

    `'use strict';␊
    ␊
    `

## throws error for removed customResolveOptions.basedir option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.basedir` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.extensions option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.extensions` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.includeCoreModules option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.includeCoreModules` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.isDirectory option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.isDirectory` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.isFile option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.isFile` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.package option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.package` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.packageFilter option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.packageFilter` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.packageIterator option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.packageIterator` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.pathFilter option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.pathFilter` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.paths option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.paths` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.preserveSymlinks option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.preserveSymlinks` is no longer an option. We now always use the rollup `preserveSymlinks` option.',
    }

## throws error for removed customResolveOptions.readFile option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.readFile` is no longer an option. If you need this, please open an issue.',
    }

## throws error for removed customResolveOptions.realpath option

> Snapshot 1

    Error {
      message: 'node-resolve: `customResolveOptions.realpath` is no longer an option. If you need this, please open an issue.',
    }

## throws error if local id is not resolved

> Snapshot 1

    'Could not resolve \'./foo\' from unresolved-local.js'
